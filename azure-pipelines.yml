trigger:
- main  # Change to your branch

pool:
  vmImage: 'ubuntu-latest'

steps:
- checkout: self

- script: |
    echo "🔍 Checking environment variables..."
    echo "🔍 AZURE_DEVOPS_PAT length: ${#AZURE_DEVOPS_PAT}"  # Should print a real number
    echo "🔍 GITHUB_PAT length: ${#GITHUB_PAT}"
    chmod +x sync_to_github.sh
    ./sync_to_github.sh
  env:
    AZURE_DEVOPS_PAT: $(AZURE_DEVOPS_PAT)  # ✅ Ensure secrets are passed correctly
    GITHUB_PAT: $(GITHUB_PAT)
  displayName: "Run Sync Script"
