trigger:
  - main  # Run pipeline when changes are pushed to main branch

pool:
  vmImage: 'ubuntu-latest'

steps:
  - checkout: self  # Fetch the Azure DevOps repo

  - task: UsePythonVersion@0
    inputs:
      versionSpec: '3.x'
    displayName: 'Set up Python'

  - script: |
      pip install --upgrade pip
    displayName: 'Upgrade pip'

  - script: |
      python sync_to_github.py
    displayName: 'Run Python script to sync repos'
    env:
      GITHUB_PAT: $(GITHUB_PAT)  # Fetch secret token from Azure DevOps
